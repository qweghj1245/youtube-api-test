(this["webpackJsonpyoutube-api-test"]=this["webpackJsonpyoutube-api-test"]||[]).push([[0],{22:function(e,t,a){e.exports=a.p+"static/media/Icon-search.cd9e75b5.svg"},26:function(e,t,a){e.exports=a(42)},31:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(12),o=a.n(c),i=(a(31),a(24)),s=a(15),u=a(9),l=(a(37),a(38),a(22)),d=a.n(l),p=function(e){return{type:"GET_VIDEO_START",payload:e}},v=function(e){return{type:"GET_VIDEO_SUCCESS",payload:e}};function m(){var e=Object(u.b)(),t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],o=a[1];return r.a.createElement("div",{className:"search"},r.a.createElement("div",{className:"input-box"},r.a.createElement("input",{type:"text",placeholder:"\u641c\u5c0b\u5f71\u7247",className:"search-input",onChange:function(e){return o(e.target.value)},onKeyPress:function(t){"Enter"===t.key&&e(p({search:c,isSearch:!0}))}}),r.a.createElement("img",{src:d.a,alt:"search-icon",className:"search-icon"})))}a(39);function h(e){var t=e.info,a=t.id,n=t.snippet,c=n.title,o=n.thumbnails;return e?r.a.createElement("div",{className:"video",onClick:function(){window.open("https://www.youtube.com/watch?v=".concat(a.videoId))}},r.a.createElement("img",{src:o.medium.url,alt:"video-img"}),r.a.createElement("div",{className:"video-title"},c)):null}var f=a(23),b=Object(f.a)([function(e){return e.video}],(function(e){return e.videoList}));var E=function(){var e=Object(u.b)(),t=Object(n.useState)([1,2]),a=Object(s.a)(t,2),c=a[0],o=a[1],l=Object(u.c)(b),d=Object(u.c)((function(e){return e.video.pageTokens})),v=Object(u.c)((function(e){return e.video.searchText}));return Object(n.useEffect)((function(){e(p({search:""}))}),[e]),r.a.createElement("div",{className:"App"},r.a.createElement(m,null),r.a.createElement("div",{className:"video-grid"},l&&l.length?l.map((function(e){return r.a.createElement(h,{key:e.id.videoId,info:e})})):null),r.a.createElement("div",{className:"pages"},c.map((function(t){return r.a.createElement("div",{onClick:function(){return function(t){window.scrollTo(0,0),d[t-1]?e({type:"PAGE_CHANGE",payload:{token:d[t-1]}}):e(p({search:v||"",pageToken:d[t-2],currentPage:t})),c.length===t&&o((function(e){return[].concat(Object(i.a)(e),[t++])}))}(t)}},t)})),r.a.createElement("span",{className:"spread"},"...")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var g=a(8),O=(a(40),a(25)),y=a(10),j=function(e,t,a){return e[a-1]||(e[a-1]=t),e},w=function(e,t,a){a&&(t={});var n=e.items,r=e.nextPageToken;return t[r]||(t[r]=n),t},T={videoList:[],searchText:"",currentPage:1,pageTokens:[],videoHashTable:{},getVideoError:null},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_VIDEO_SUCCESS":return Object(y.a)({},e,{videoList:t.payload.items,searchText:t.payload.search,pageTokens:j(e.pageTokens,t.payload.nextPageToken,t.payload.currentPage),currentPage:t.payload.currentPage,videoHashTable:w(t.payload,e.videoHashTable,t.payload.isSearch)});case"GET_VIDEO_FAILURE":return Object(y.a)({},e,{getVideoError:t.payload});case"PAGE_CHANGE":return Object(y.a)({},e,{videoList:e.videoHashTable[t.payload.token]});default:return e}},x=Object(g.c)({video:k}),S=a(5),_=a.n(S),I=a(6),N=_.a.mark(C),P=_.a.mark(G),A=_.a.mark(V);function C(e){var t,a,n,r,c,o,i,s,u,l,d;return _.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,t=e.payload,a=t.search,n=void 0===a?"":a,r=t.pageToken,c=void 0===r?"":r,o=t.currentPage,i=void 0===o?1:o,s=t.isSearch,u=void 0!==s&&s,l="https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=10&key=".concat("AIzaSyCFUU8Qs_eTEUi5sW918an3razQQ-IFm_k","&q=").concat(n),c&&(l=l+"&pageToken="+c),p.next=6,Object(I.b)((function(){return fetch(l).then((function(e){return e.json()}))}));case 6:return d=p.sent,p.next=9,Object(I.c)(v(Object(y.a)({},d,{search:n,currentPage:i,isSearch:u})));case 9:p.next=15;break;case 11:return p.prev=11,p.t0=p.catch(0),p.next=15,Object(I.c)({type:"GET_VIDEO_FAILURE",payload:p.t0});case 15:case"end":return p.stop()}}),N,null,[[0,11]])}function G(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.d)("GET_VIDEO_START",C);case 2:case"end":return e.stop()}}),P)}function V(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.a)([Object(I.b)(G)]);case 2:case"end":return e.stop()}}),A)}var U=_.a.mark(D);function D(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.a)([Object(I.b)(V)]);case 2:case"end":return e.stop()}}),U)}var H=Object(O.a)(),L=[H],R=Object(g.e)(x,g.a.apply(void 0,L));H.run(D),o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,{store:R},r.a.createElement(E,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.68ffd68c.chunk.js.map